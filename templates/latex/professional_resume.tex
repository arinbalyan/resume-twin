\documentclass[11pt,a4paper]{article}
\usepackage[margin=0.7in]{geometry}
\usepackage{enumitem}
\usepackage{hyperref}
\usepackage{xcolor}
\usepackage{array}
\usepackage{tabularx}
\usepackage{multicol}
\usepackage{fontawesome5}
\usepackage{titlesec}

% Colors - Yellow/Navy theme
\definecolor{primary}{HTML}{1e3a8a}
\definecolor{accent}{HTML}{facc15}
\definecolor{text}{HTML}{1c1917}
\definecolor{subtext}{HTML}{78716c}

% Font settings
\usepackage[T1]{fontenc}
\usepackage[default]{lato}

% Custom commands
\newcommand{\sectionTitle}[1]{%
    \vspace{8pt}%
    {\Large\bfseries\color{primary}#1}%
    \vspace{2pt}\hrule height 2pt\relax\vspace{4pt}%
}

\newcommand{\subsectionTitle}[2]{%
    \textbf{\large #1} \hfill \textit{\color{subtext}#2}%
}

\newcommand{\positionTitle}[3]{%
    \textbf{#1} \hfill \textit{\color{subtext}#2}\\%
    \textit{\color{primary}#3}%
}

% Hyperlink setup
\hypersetup{
    colorlinks=true,
    linkcolor=primary,
    urlcolor=primary,
    pdfborder={0 0 0}
}

% Document setup
\setlist[itemize]{leftmargin=*, itemsep=1pt, parsep=0pt, topsep=2pt}
\pagenumbering{gobble}
\setlength{\parindent}{0pt}

\begin{document}

% ============================================================================
% HEADER
% ============================================================================
\begin{center}
{\Huge\bfseries\color{primary}{{ user_name }}}\\[6pt]
{% if current_title %}
{\Large\color{text}{{ current_title }}}\\[8pt]
{% endif %}

% Contact Information
\begin{tabular}{c c c c}
{% if email %}
\faIcon{envelope} \href{mailto:{{ email }}}{{{ email }}} &
{% endif %}
{% if phone %}
\faIcon{phone} {{ phone }} &
{% endif %}
{% if linkedin_url %}
\faIcon{linkedin} \href{{{ linkedin_url }}}{LinkedIn} &
{% endif %}
{% if github_url %}
\faIcon{github} \href{{{ github_url }}}{GitHub}
{% endif %}
\end{tabular}

{% if portfolio_url %}
\\[2pt]
\faIcon{globe} \href{{{ portfolio_url }}}{Portfolio}
{% endif %}

{% if city or country %}
\\[2pt]
\faIcon{map-marker-alt} {{ city }}{% if city and country %}, {% endif %}{{ country }}
{% endif %}
\end{center}

\vspace{6pt}

% ============================================================================
% PROFESSIONAL SUMMARY
% ============================================================================
{% if bio %}
\sectionTitle{Professional Summary}
{{ bio }}
{% endif %}

% ============================================================================
% TECHNICAL SKILLS
% ============================================================================
{% if skills %}
\sectionTitle{Technical Skills}
\begin{itemize}
{% for skill_category, skill_list in skills.items() %}
    \item \textbf{{{ skill_category }}:} {{ ", ".join(skill_list) }}
{% endfor %}
\end{itemize}
{% endif %}

% ============================================================================
% PROFESSIONAL EXPERIENCE
% ============================================================================
{% if experience_items %}
\sectionTitle{Professional Experience}
{% for exp in experience_items %}
\positionTitle{{{ exp.company }}}{{{ exp.start_date }} -- {{ exp.end_date or "Present" }}}{{{ exp.role }}}
{% if exp.location %}
\textit{\color{subtext}\faIcon{map-marker-alt} {{ exp.location }}}
{% endif %}
\\[4pt]

{% if exp.description %}
{{ exp.description }}\\[2pt]
{% endif %}

{% if exp.achievements %}
\textbf{Key Achievements:}
\begin{itemize}
{% for achievement in exp.achievements %}
    \item {{ achievement }}
{% endfor %}
\end{itemize}
{% endif %}

\vspace{4pt}
{% endfor %}
{% endif %}

% ============================================================================
% PROJECTS
% ============================================================================
{% if projects %}
\sectionTitle{Projects}
{% for project in projects %}
\subsectionTitle{{{ project.title }}}{{% if project.start_date %}{{ project.start_date }}{% if project.end_date %} -- {{ project.end_date }}{% endif %}{% endif %}}
\\[2pt]

{% if project.short_description %}
\textit{{{ project.short_description }}}\\[2pt]
{% endif %}

{% if project.bullet_points %}
\begin{itemize}
{% for point in project.bullet_points %}
    \item {{ point }}
{% endfor %}
\end{itemize}
{% endif %}

{% if project.technologies %}
\textbf{Technologies:} {{ ", ".join(project.technologies) }}
{% endif %}

{% if project.github_url or project.live_url %}
\\[2pt]
{% if project.github_url %}
\faIcon{github} \href{{{ project.github_url }}}{Repository}
{% endif %}
{% if project.github_url and project.live_url %}
\quad | \quad
{% endif %}
{% if project.live_url %}
\faIcon{external-link-alt} \href{{{ project.live_url }}}{Live Demo}
{% endif %}
{% endif %}

\vspace{6pt}
{% endfor %}
{% endif %}

% ============================================================================
% EDUCATION
% ============================================================================
{% if education_items %}
\sectionTitle{Education}
{% for edu in education_items %}
\subsectionTitle{{{ edu.degree }}{% if edu.field_of_study %} in {{ edu.field_of_study }}{% endif %}}{{% if edu.graduation_year %}{{ edu.graduation_year }}{% endif %}}
\\[2pt]
\textit{{{ edu.institution }}}{% if edu.location %}, {{ edu.location }}{% endif %}
\\[2pt]

{% if edu.cgpa %}
CGPA: {{ edu.cgpa }}/10.0
{% elif edu.percentage %}
Percentage: {{ edu.percentage }}\%
{% endif %}

{% if edu.description %}
\\[2pt]
{{ edu.description }}
{% endif %}

\vspace{4pt}
{% endfor %}
{% endif %}

% ============================================================================
% CERTIFICATIONS
% ============================================================================
{% if certifications %}
\sectionTitle{Certifications}
\begin{itemize}
{% for cert in certifications %}
    \item \textbf{{{ cert.name }}} -- {{ cert.issuer }}{% if cert.issue_date %} ({{ cert.issue_date }}){% endif %}
    {% if cert.credential_id %}
    \\Credential ID: {{ cert.credential_id }}
    {% endif %}
{% endfor %}
\end{itemize}
{% endif %}

% ============================================================================
% ADDITIONAL SECTIONS
% ============================================================================

{% if courses %}
\sectionTitle{Relevant Courses}
\begin{multicols}{2}
\begin{itemize}
{% for course in courses %}
    \item {{ course.name }}{% if course.institution %} -- {{ course.institution }}{% endif %}
{% endfor %}
\end{itemize}
\end{multicols}
{% endif %}

{% if activities %}
\sectionTitle{Leadership \& Activities}
{% for activity in activities %}
\subsectionTitle{{{ activity.title }}}{{% if activity.start_date %}{{ activity.start_date }}{% if activity.end_date %} -- {{ activity.end_date }}{% endif %}{% endif %}}
\\[2pt]
{% if activity.organization %}
\textit{{{ activity.organization }}}{% if activity.role %} -- {{ activity.role }}{% endif %}
\\[2pt]
{% endif %}

{% if activity.description %}
{{ activity.description }}
{% endif %}

{% if activity.achievements %}
\begin{itemize}
{% for achievement in activity.achievements %}
    \item {{ achievement }}
{% endfor %}
\end{itemize}
{% endif %}

\vspace{4pt}
{% endfor %}
{% endif %}

\end{document}
